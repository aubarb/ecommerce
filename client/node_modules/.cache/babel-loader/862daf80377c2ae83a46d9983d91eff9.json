{"ast":null,"code":"'use strict';\n\nconst childProcess = require('child_process');\n\nconst {\n  isLinux,\n  getReport\n} = require('./process');\n\nconst command = 'getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true';\nlet commandOut = '';\n\nconst safeCommand = () => {\n  if (!commandOut) {\n    return new Promise(resolve => {\n      childProcess.exec(command, (err, out) => {\n        commandOut = err ? ' ' : out;\n        resolve(commandOut);\n      });\n    });\n  }\n\n  return commandOut;\n};\n\nconst safeCommandSync = () => {\n  if (!commandOut) {\n    try {\n      commandOut = childProcess.execSync(command, {\n        encoding: 'utf8'\n      });\n    } catch (_err) {\n      commandOut = ' ';\n    }\n  }\n\n  return commandOut;\n};\n/**\n * A String constant containing the value `glibc`.\n * @type {string}\n * @public\n */\n\n\nconst GLIBC = 'glibc';\n/**\n * A String constant containing the value `musl`.\n * @type {string}\n * @public\n */\n\nconst MUSL = 'musl';\n\nconst isFileMusl = f => f.includes('libc.musl-') || f.includes('ld-musl-');\n\nconst familyFromReport = () => {\n  const report = getReport();\n\n  if (report.header && report.header.glibcVersionRuntime) {\n    return GLIBC;\n  }\n\n  if (Array.isArray(report.sharedObjects)) {\n    if (report.sharedObjects.some(isFileMusl)) {\n      return MUSL;\n    }\n  }\n\n  return null;\n};\n\nconst familyFromCommand = out => {\n  const [getconf, ldd1] = out.split(/[\\r\\n]+/);\n\n  if (getconf && getconf.includes(GLIBC)) {\n    return GLIBC;\n  }\n\n  if (ldd1 && ldd1.includes(MUSL)) {\n    return MUSL;\n  }\n\n  return null;\n};\n/**\n * Resolves with the libc family when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\n\n\nconst family = async () => {\n  let family = null;\n\n  if (isLinux()) {\n    family = familyFromReport();\n\n    if (!family) {\n      const out = await safeCommand();\n      family = familyFromCommand(out);\n    }\n  }\n\n  return family;\n};\n/**\n * Returns the libc family when it can be determined, `null` otherwise.\n * @returns {?string}\n */\n\n\nconst familySync = () => {\n  let family = null;\n\n  if (isLinux()) {\n    family = familyFromReport();\n\n    if (!family) {\n      const out = safeCommandSync();\n      family = familyFromCommand(out);\n    }\n  }\n\n  return family;\n};\n/**\n * Resolves `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {Promise<boolean>}\n */\n\n\nconst isNonGlibcLinux = async () => isLinux() && (await family()) !== GLIBC;\n/**\n * Returns `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {boolean}\n */\n\n\nconst isNonGlibcLinuxSync = () => isLinux() && familySync() !== GLIBC;\n\nconst versionFromReport = () => {\n  const report = getReport();\n\n  if (report.header && report.header.glibcVersionRuntime) {\n    return report.header.glibcVersionRuntime;\n  }\n\n  return null;\n};\n\nconst versionSuffix = s => s.trim().split(/\\s+/)[1];\n\nconst versionFromCommand = out => {\n  const [getconf, ldd1, ldd2] = out.split(/[\\r\\n]+/);\n\n  if (getconf && getconf.includes(GLIBC)) {\n    return versionSuffix(getconf);\n  }\n\n  if (ldd1 && ldd2 && ldd1.includes(MUSL)) {\n    return versionSuffix(ldd2);\n  }\n\n  return null;\n};\n/**\n * Resolves with the libc version when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\n\n\nconst version = async () => {\n  let version = null;\n\n  if (isLinux()) {\n    version = versionFromReport();\n\n    if (!version) {\n      const out = await safeCommand();\n      version = versionFromCommand(out);\n    }\n  }\n\n  return version;\n};\n/**\n * Returns the libc version when it can be determined, `null` otherwise.\n * @returns {?string}\n */\n\n\nconst versionSync = () => {\n  let version = null;\n\n  if (isLinux()) {\n    version = versionFromReport();\n\n    if (!version) {\n      const out = safeCommandSync();\n      version = versionFromCommand(out);\n    }\n  }\n\n  return version;\n};\n\nmodule.exports = {\n  GLIBC,\n  MUSL,\n  family,\n  familySync,\n  isNonGlibcLinux,\n  isNonGlibcLinuxSync,\n  version,\n  versionSync\n};","map":{"version":3,"names":["childProcess","require","isLinux","getReport","command","commandOut","safeCommand","Promise","resolve","exec","err","out","safeCommandSync","execSync","encoding","_err","GLIBC","MUSL","isFileMusl","f","includes","familyFromReport","report","header","glibcVersionRuntime","Array","isArray","sharedObjects","some","familyFromCommand","getconf","ldd1","split","family","familySync","isNonGlibcLinux","isNonGlibcLinuxSync","versionFromReport","versionSuffix","s","trim","versionFromCommand","ldd2","version","versionSync","module","exports"],"sources":["/Users/aurele/Desktop/E-Commerce App/views/node_modules/detect-libc/lib/detect-libc.js"],"sourcesContent":["'use strict';\n\nconst childProcess = require('child_process');\nconst { isLinux, getReport } = require('./process');\n\nconst command = 'getconf GNU_LIBC_VERSION 2>&1 || true; ldd --version 2>&1 || true';\nlet commandOut = '';\n\nconst safeCommand = () => {\n  if (!commandOut) {\n    return new Promise((resolve) => {\n      childProcess.exec(command, (err, out) => {\n        commandOut = err ? ' ' : out;\n        resolve(commandOut);\n      });\n    });\n  }\n  return commandOut;\n};\n\nconst safeCommandSync = () => {\n  if (!commandOut) {\n    try {\n      commandOut = childProcess.execSync(command, { encoding: 'utf8' });\n    } catch (_err) {\n      commandOut = ' ';\n    }\n  }\n  return commandOut;\n};\n\n/**\n * A String constant containing the value `glibc`.\n * @type {string}\n * @public\n */\nconst GLIBC = 'glibc';\n\n/**\n * A String constant containing the value `musl`.\n * @type {string}\n * @public\n */\nconst MUSL = 'musl';\n\nconst isFileMusl = (f) => f.includes('libc.musl-') || f.includes('ld-musl-');\n\nconst familyFromReport = () => {\n  const report = getReport();\n  if (report.header && report.header.glibcVersionRuntime) {\n    return GLIBC;\n  }\n  if (Array.isArray(report.sharedObjects)) {\n    if (report.sharedObjects.some(isFileMusl)) {\n      return MUSL;\n    }\n  }\n  return null;\n};\n\nconst familyFromCommand = (out) => {\n  const [getconf, ldd1] = out.split(/[\\r\\n]+/);\n  if (getconf && getconf.includes(GLIBC)) {\n    return GLIBC;\n  }\n  if (ldd1 && ldd1.includes(MUSL)) {\n    return MUSL;\n  }\n  return null;\n};\n\n/**\n * Resolves with the libc family when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\nconst family = async () => {\n  let family = null;\n  if (isLinux()) {\n    family = familyFromReport();\n    if (!family) {\n      const out = await safeCommand();\n      family = familyFromCommand(out);\n    }\n  }\n  return family;\n};\n\n/**\n * Returns the libc family when it can be determined, `null` otherwise.\n * @returns {?string}\n */\nconst familySync = () => {\n  let family = null;\n  if (isLinux()) {\n    family = familyFromReport();\n    if (!family) {\n      const out = safeCommandSync();\n      family = familyFromCommand(out);\n    }\n  }\n  return family;\n};\n\n/**\n * Resolves `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {Promise<boolean>}\n */\nconst isNonGlibcLinux = async () => isLinux() && await family() !== GLIBC;\n\n/**\n * Returns `true` only when the platform is Linux and the libc family is not `glibc`.\n * @returns {boolean}\n */\nconst isNonGlibcLinuxSync = () => isLinux() && familySync() !== GLIBC;\n\nconst versionFromReport = () => {\n  const report = getReport();\n  if (report.header && report.header.glibcVersionRuntime) {\n    return report.header.glibcVersionRuntime;\n  }\n  return null;\n};\n\nconst versionSuffix = (s) => s.trim().split(/\\s+/)[1];\n\nconst versionFromCommand = (out) => {\n  const [getconf, ldd1, ldd2] = out.split(/[\\r\\n]+/);\n  if (getconf && getconf.includes(GLIBC)) {\n    return versionSuffix(getconf);\n  }\n  if (ldd1 && ldd2 && ldd1.includes(MUSL)) {\n    return versionSuffix(ldd2);\n  }\n  return null;\n};\n\n/**\n * Resolves with the libc version when it can be determined, `null` otherwise.\n * @returns {Promise<?string>}\n */\nconst version = async () => {\n  let version = null;\n  if (isLinux()) {\n    version = versionFromReport();\n    if (!version) {\n      const out = await safeCommand();\n      version = versionFromCommand(out);\n    }\n  }\n  return version;\n};\n\n/**\n * Returns the libc version when it can be determined, `null` otherwise.\n * @returns {?string}\n */\nconst versionSync = () => {\n  let version = null;\n  if (isLinux()) {\n    version = versionFromReport();\n    if (!version) {\n      const out = safeCommandSync();\n      version = versionFromCommand(out);\n    }\n  }\n  return version;\n};\n\nmodule.exports = {\n  GLIBC,\n  MUSL,\n  family,\n  familySync,\n  isNonGlibcLinux,\n  isNonGlibcLinuxSync,\n  version,\n  versionSync\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}