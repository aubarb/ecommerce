{"ast":null,"code":"'use strict';\n\nmodule.exports = exports = info;\nexports.usage = 'Lists all published binaries (requires aws-sdk)';\n\nconst log = require('npmlog');\n\nconst versioning = require('./util/versioning.js');\n\nconst s3_setup = require('./util/s3_setup.js');\n\nfunction info(gyp, argv, callback) {\n  const package_json = gyp.package_json;\n  const opts = versioning.evaluate(package_json, gyp.opts);\n  const config = {};\n  s3_setup.detect(opts, config);\n  const s3 = s3_setup.get_s3(config);\n  const s3_opts = {\n    Bucket: config.bucket,\n    Prefix: config.prefix\n  };\n  s3.listObjects(s3_opts, (err, meta) => {\n    if (err && err.code === 'NotFound') {\n      return callback(new Error('[' + package_json.name + '] Not found: https://' + s3_opts.Bucket + '.s3.amazonaws.com/' + config.prefix));\n    } else if (err) {\n      return callback(err);\n    } else {\n      log.verbose(JSON.stringify(meta, null, 1));\n\n      if (meta && meta.Contents) {\n        meta.Contents.forEach(obj => {\n          console.log(obj.Key);\n        });\n      } else {\n        console.error('[' + package_json.name + '] No objects found at https://' + s3_opts.Bucket + '.s3.amazonaws.com/' + config.prefix);\n      }\n\n      return callback();\n    }\n  });\n}","map":{"version":3,"names":["module","exports","info","usage","log","require","versioning","s3_setup","gyp","argv","callback","package_json","opts","evaluate","config","detect","s3","get_s3","s3_opts","Bucket","bucket","Prefix","prefix","listObjects","err","meta","code","Error","name","verbose","JSON","stringify","Contents","forEach","obj","console","Key","error"],"sources":["/Users/aurele/Desktop/E-Commerce App/views/node_modules/@mapbox/node-pre-gyp/lib/info.js"],"sourcesContent":["'use strict';\n\nmodule.exports = exports = info;\n\nexports.usage = 'Lists all published binaries (requires aws-sdk)';\n\nconst log = require('npmlog');\nconst versioning = require('./util/versioning.js');\nconst s3_setup = require('./util/s3_setup.js');\n\nfunction info(gyp, argv, callback) {\n  const package_json = gyp.package_json;\n  const opts = versioning.evaluate(package_json, gyp.opts);\n  const config = {};\n  s3_setup.detect(opts, config);\n  const s3 = s3_setup.get_s3(config);\n  const s3_opts = {\n    Bucket: config.bucket,\n    Prefix: config.prefix\n  };\n  s3.listObjects(s3_opts, (err, meta) => {\n    if (err && err.code === 'NotFound') {\n      return callback(new Error('[' + package_json.name + '] Not found: https://' + s3_opts.Bucket + '.s3.amazonaws.com/' + config.prefix));\n    } else if (err) {\n      return callback(err);\n    } else {\n      log.verbose(JSON.stringify(meta, null, 1));\n      if (meta && meta.Contents) {\n        meta.Contents.forEach((obj) => {\n          console.log(obj.Key);\n        });\n      } else {\n        console.error('[' + package_json.name + '] No objects found at https://' + s3_opts.Bucket + '.s3.amazonaws.com/' + config.prefix);\n      }\n      return callback();\n    }\n  });\n}\n"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,OAAP,GAAiBA,OAAO,GAAGC,IAA3B;AAEAD,OAAO,CAACE,KAAR,GAAgB,iDAAhB;;AAEA,MAAMC,GAAG,GAAGC,OAAO,CAAC,QAAD,CAAnB;;AACA,MAAMC,UAAU,GAAGD,OAAO,CAAC,sBAAD,CAA1B;;AACA,MAAME,QAAQ,GAAGF,OAAO,CAAC,oBAAD,CAAxB;;AAEA,SAASH,IAAT,CAAcM,GAAd,EAAmBC,IAAnB,EAAyBC,QAAzB,EAAmC;EACjC,MAAMC,YAAY,GAAGH,GAAG,CAACG,YAAzB;EACA,MAAMC,IAAI,GAAGN,UAAU,CAACO,QAAX,CAAoBF,YAApB,EAAkCH,GAAG,CAACI,IAAtC,CAAb;EACA,MAAME,MAAM,GAAG,EAAf;EACAP,QAAQ,CAACQ,MAAT,CAAgBH,IAAhB,EAAsBE,MAAtB;EACA,MAAME,EAAE,GAAGT,QAAQ,CAACU,MAAT,CAAgBH,MAAhB,CAAX;EACA,MAAMI,OAAO,GAAG;IACdC,MAAM,EAAEL,MAAM,CAACM,MADD;IAEdC,MAAM,EAAEP,MAAM,CAACQ;EAFD,CAAhB;EAIAN,EAAE,CAACO,WAAH,CAAeL,OAAf,EAAwB,CAACM,GAAD,EAAMC,IAAN,KAAe;IACrC,IAAID,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,UAAxB,EAAoC;MAClC,OAAOhB,QAAQ,CAAC,IAAIiB,KAAJ,CAAU,MAAMhB,YAAY,CAACiB,IAAnB,GAA0B,uBAA1B,GAAoDV,OAAO,CAACC,MAA5D,GAAqE,oBAArE,GAA4FL,MAAM,CAACQ,MAA7G,CAAD,CAAf;IACD,CAFD,MAEO,IAAIE,GAAJ,EAAS;MACd,OAAOd,QAAQ,CAACc,GAAD,CAAf;IACD,CAFM,MAEA;MACLpB,GAAG,CAACyB,OAAJ,CAAYC,IAAI,CAACC,SAAL,CAAeN,IAAf,EAAqB,IAArB,EAA2B,CAA3B,CAAZ;;MACA,IAAIA,IAAI,IAAIA,IAAI,CAACO,QAAjB,EAA2B;QACzBP,IAAI,CAACO,QAAL,CAAcC,OAAd,CAAuBC,GAAD,IAAS;UAC7BC,OAAO,CAAC/B,GAAR,CAAY8B,GAAG,CAACE,GAAhB;QACD,CAFD;MAGD,CAJD,MAIO;QACLD,OAAO,CAACE,KAAR,CAAc,MAAM1B,YAAY,CAACiB,IAAnB,GAA0B,gCAA1B,GAA6DV,OAAO,CAACC,MAArE,GAA8E,oBAA9E,GAAqGL,MAAM,CAACQ,MAA1H;MACD;;MACD,OAAOZ,QAAQ,EAAf;IACD;EACF,CAhBD;AAiBD"},"metadata":{},"sourceType":"script"}