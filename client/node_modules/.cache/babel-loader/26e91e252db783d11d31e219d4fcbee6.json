{"ast":null,"code":"var _jsxFileName = \"/Users/aurele/Desktop/E-Commerce App/views/src/components/ProtectedRoutes.js\",\n    _s = $RefreshSig$();\n\nimport { Navigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { verifyAuth } from \"../api/auth\";\nimport { useRecoilState } from \"recoil\";\nimport { isAuthenticatedAtom } from \"../recoil/isAuthenticated/atom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ProtectedRoute = _ref => {\n  _s();\n\n  let {\n    children\n  } = _ref;\n  const [isAuthenticated, setIsAuthenticated] = useRecoilState(isAuthenticatedAtom);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await verifyAuth(localStorage.token);\n        response === true ? setIsAuthenticated(true) : setIsAuthenticated(false);\n      } catch (error) {\n        console.error(error.message);\n      }\n    };\n\n    checkAuth();\n  }, [setIsAuthenticated]);\n\n  if (!isAuthenticated) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 12\n    }, this);\n  }\n\n  return children;\n};\n\n_s(ProtectedRoute, \"lmPiPAClBrMoaE3IYvObWhuCNYU=\", false, function () {\n  return [useRecoilState];\n});\n\n_c = ProtectedRoute;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProtectedRoute\");","map":{"version":3,"names":["Navigate","useEffect","verifyAuth","useRecoilState","isAuthenticatedAtom","ProtectedRoute","children","isAuthenticated","setIsAuthenticated","checkAuth","response","localStorage","token","error","console","message"],"sources":["/Users/aurele/Desktop/E-Commerce App/views/src/components/ProtectedRoutes.js"],"sourcesContent":["import { Navigate } from \"react-router-dom\";\nimport { useEffect } from \"react\";\nimport { verifyAuth } from \"../api/auth\";\nimport { useRecoilState } from \"recoil\";\nimport { isAuthenticatedAtom } from \"../recoil/isAuthenticated/atom\";\n\nexport const ProtectedRoute = ({ children }) => {\n  const [isAuthenticated, setIsAuthenticated] = useRecoilState(isAuthenticatedAtom);\n  useEffect(() => {\n    const checkAuth = async () => {\n      try {\n        const response = await verifyAuth(localStorage.token);\n        response === true\n          ? setIsAuthenticated(true)\n          : setIsAuthenticated(false);\n      } catch (error) {\n        console.error(error.message);\n      }\n    };\n    checkAuth();\n  }, [setIsAuthenticated]);\n\n  if (!isAuthenticated) {\n    return <Navigate to=\"/\" />;\n  }\n  return children;\n};"],"mappings":";;;AAAA,SAASA,QAAT,QAAyB,kBAAzB;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,UAAT,QAA2B,aAA3B;AACA,SAASC,cAAT,QAA+B,QAA/B;AACA,SAASC,mBAAT,QAAoC,gCAApC;;AAEA,OAAO,MAAMC,cAAc,GAAG,QAAkB;EAAA;;EAAA,IAAjB;IAAEC;EAAF,CAAiB;EAC9C,MAAM,CAACC,eAAD,EAAkBC,kBAAlB,IAAwCL,cAAc,CAACC,mBAAD,CAA5D;EACAH,SAAS,CAAC,MAAM;IACd,MAAMQ,SAAS,GAAG,YAAY;MAC5B,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMR,UAAU,CAACS,YAAY,CAACC,KAAd,CAAjC;QACAF,QAAQ,KAAK,IAAb,GACIF,kBAAkB,CAAC,IAAD,CADtB,GAEIA,kBAAkB,CAAC,KAAD,CAFtB;MAGD,CALD,CAKE,OAAOK,KAAP,EAAc;QACdC,OAAO,CAACD,KAAR,CAAcA,KAAK,CAACE,OAApB;MACD;IACF,CATD;;IAUAN,SAAS;EACV,CAZQ,EAYN,CAACD,kBAAD,CAZM,CAAT;;EAcA,IAAI,CAACD,eAAL,EAAsB;IACpB,oBAAO,QAAC,QAAD;MAAU,EAAE,EAAC;IAAb;MAAA;MAAA;MAAA;IAAA,QAAP;EACD;;EACD,OAAOD,QAAP;AACD,CApBM;;GAAMD,c;UACmCF,c;;;KADnCE,c"},"metadata":{},"sourceType":"module"}