{"ast":null,"code":"'use strict';\n\nvar align = require('wide-align');\n\nvar validate = require('aproba');\n\nvar wideTruncate = require('./wide-truncate');\n\nvar error = require('./error');\n\nvar TemplateItem = require('./template-item');\n\nfunction renderValueWithValues(values) {\n  return function (item) {\n    return renderValue(item, values);\n  };\n}\n\nvar renderTemplate = module.exports = function (width, template, values) {\n  var items = prepareItems(width, template, values);\n  var rendered = items.map(renderValueWithValues(values)).join('');\n  return align.left(wideTruncate(rendered, width), width);\n};\n\nfunction preType(item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1);\n  return 'pre' + cappedTypeName;\n}\n\nfunction postType(item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1);\n  return 'post' + cappedTypeName;\n}\n\nfunction hasPreOrPost(item, values) {\n  if (!item.type) return;\n  return values[preType(item)] || values[postType(item)];\n}\n\nfunction generatePreAndPost(baseItem, parentValues) {\n  var item = Object.assign({}, baseItem);\n  var values = Object.create(parentValues);\n  var template = [];\n  var pre = preType(item);\n  var post = postType(item);\n\n  if (values[pre]) {\n    template.push({\n      value: values[pre]\n    });\n    values[pre] = null;\n  }\n\n  item.minLength = null;\n  item.length = null;\n  item.maxLength = null;\n  template.push(item);\n  values[item.type] = values[item.type];\n\n  if (values[post]) {\n    template.push({\n      value: values[post]\n    });\n    values[post] = null;\n  }\n\n  return function ($1, $2, length) {\n    return renderTemplate(length, template, values);\n  };\n}\n\nfunction prepareItems(width, template, values) {\n  function cloneAndObjectify(item, index, arr) {\n    var cloned = new TemplateItem(item, width);\n    var type = cloned.type;\n\n    if (cloned.value == null) {\n      if (!(type in values)) {\n        if (cloned.default == null) {\n          throw new error.MissingTemplateValue(cloned, values);\n        } else {\n          cloned.value = cloned.default;\n        }\n      } else {\n        cloned.value = values[type];\n      }\n    }\n\n    if (cloned.value == null || cloned.value === '') return null;\n    cloned.index = index;\n    cloned.first = index === 0;\n    cloned.last = index === arr.length - 1;\n    if (hasPreOrPost(cloned, values)) cloned.value = generatePreAndPost(cloned, values);\n    return cloned;\n  }\n\n  var output = template.map(cloneAndObjectify).filter(function (item) {\n    return item != null;\n  });\n  var remainingSpace = width;\n  var variableCount = output.length;\n\n  function consumeSpace(length) {\n    if (length > remainingSpace) length = remainingSpace;\n    remainingSpace -= length;\n  }\n\n  function finishSizing(item, length) {\n    if (item.finished) throw new error.Internal('Tried to finish template item that was already finished');\n    if (length === Infinity) throw new error.Internal('Length of template item cannot be infinity');\n    if (length != null) item.length = length;\n    item.minLength = null;\n    item.maxLength = null;\n    --variableCount;\n    item.finished = true;\n    if (item.length == null) item.length = item.getBaseLength();\n    if (item.length == null) throw new error.Internal('Finished template items must have a length');\n    consumeSpace(item.getLength());\n  }\n\n  output.forEach(function (item) {\n    if (!item.kerning) return;\n    var prevPadRight = item.first ? 0 : output[item.index - 1].padRight;\n    if (!item.first && prevPadRight < item.kerning) item.padLeft = item.kerning - prevPadRight;\n    if (!item.last) item.padRight = item.kerning;\n  }); // Finish any that have a fixed (literal or intuited) length\n\n  output.forEach(function (item) {\n    if (item.getBaseLength() == null) return;\n    finishSizing(item);\n  });\n  var resized = 0;\n  var resizing;\n  var hunkSize;\n\n  do {\n    resizing = false;\n    hunkSize = Math.round(remainingSpace / variableCount);\n    output.forEach(function (item) {\n      if (item.finished) return;\n      if (!item.maxLength) return;\n\n      if (item.getMaxLength() < hunkSize) {\n        finishSizing(item, item.maxLength);\n        resizing = true;\n      }\n    });\n  } while (resizing && resized++ < output.length);\n\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining maxLength');\n  resized = 0;\n\n  do {\n    resizing = false;\n    hunkSize = Math.round(remainingSpace / variableCount);\n    output.forEach(function (item) {\n      if (item.finished) return;\n      if (!item.minLength) return;\n\n      if (item.getMinLength() >= hunkSize) {\n        finishSizing(item, item.minLength);\n        resizing = true;\n      }\n    });\n  } while (resizing && resized++ < output.length);\n\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining minLength');\n  hunkSize = Math.round(remainingSpace / variableCount);\n  output.forEach(function (item) {\n    if (item.finished) return;\n    finishSizing(item, hunkSize);\n  });\n  return output;\n}\n\nfunction renderFunction(item, values, length) {\n  validate('OON', arguments);\n\n  if (item.type) {\n    return item.value(values, values[item.type + 'Theme'] || {}, length);\n  } else {\n    return item.value(values, {}, length);\n  }\n}\n\nfunction renderValue(item, values) {\n  var length = item.getBaseLength();\n  var value = typeof item.value === 'function' ? renderFunction(item, values, length) : item.value;\n  if (value == null || value === '') return '';\n  var alignWith = align[item.align] || align.left;\n  var leftPadding = item.padLeft ? align.left('', item.padLeft) : '';\n  var rightPadding = item.padRight ? align.right('', item.padRight) : '';\n  var truncated = wideTruncate(String(value), length);\n  var aligned = alignWith(truncated, length);\n  return leftPadding + aligned + rightPadding;\n}","map":{"version":3,"names":["align","require","validate","wideTruncate","error","TemplateItem","renderValueWithValues","values","item","renderValue","renderTemplate","module","exports","width","template","items","prepareItems","rendered","map","join","left","preType","cappedTypeName","type","toUpperCase","slice","postType","hasPreOrPost","generatePreAndPost","baseItem","parentValues","Object","assign","create","pre","post","push","value","minLength","length","maxLength","$1","$2","cloneAndObjectify","index","arr","cloned","default","MissingTemplateValue","first","last","output","filter","remainingSpace","variableCount","consumeSpace","finishSizing","finished","Internal","Infinity","getBaseLength","getLength","forEach","kerning","prevPadRight","padRight","padLeft","resized","resizing","hunkSize","Math","round","getMaxLength","getMinLength","renderFunction","arguments","alignWith","leftPadding","rightPadding","right","truncated","String","aligned"],"sources":["/Users/aurele/Desktop/E-Commerce App/views/node_modules/gauge/render-template.js"],"sourcesContent":["'use strict'\nvar align = require('wide-align')\nvar validate = require('aproba')\nvar wideTruncate = require('./wide-truncate')\nvar error = require('./error')\nvar TemplateItem = require('./template-item')\n\nfunction renderValueWithValues (values) {\n  return function (item) {\n    return renderValue(item, values)\n  }\n}\n\nvar renderTemplate = module.exports = function (width, template, values) {\n  var items = prepareItems(width, template, values)\n  var rendered = items.map(renderValueWithValues(values)).join('')\n  return align.left(wideTruncate(rendered, width), width)\n}\n\nfunction preType (item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1)\n  return 'pre' + cappedTypeName\n}\n\nfunction postType (item) {\n  var cappedTypeName = item.type[0].toUpperCase() + item.type.slice(1)\n  return 'post' + cappedTypeName\n}\n\nfunction hasPreOrPost (item, values) {\n  if (!item.type) return\n  return values[preType(item)] || values[postType(item)]\n}\n\nfunction generatePreAndPost (baseItem, parentValues) {\n  var item = Object.assign({}, baseItem)\n  var values = Object.create(parentValues)\n  var template = []\n  var pre = preType(item)\n  var post = postType(item)\n  if (values[pre]) {\n    template.push({value: values[pre]})\n    values[pre] = null\n  }\n  item.minLength = null\n  item.length = null\n  item.maxLength = null\n  template.push(item)\n  values[item.type] = values[item.type]\n  if (values[post]) {\n    template.push({value: values[post]})\n    values[post] = null\n  }\n  return function ($1, $2, length) {\n    return renderTemplate(length, template, values)\n  }\n}\n\nfunction prepareItems (width, template, values) {\n  function cloneAndObjectify (item, index, arr) {\n    var cloned = new TemplateItem(item, width)\n    var type = cloned.type\n    if (cloned.value == null) {\n      if (!(type in values)) {\n        if (cloned.default == null) {\n          throw new error.MissingTemplateValue(cloned, values)\n        } else {\n          cloned.value = cloned.default\n        }\n      } else {\n        cloned.value = values[type]\n      }\n    }\n    if (cloned.value == null || cloned.value === '') return null\n    cloned.index = index\n    cloned.first = index === 0\n    cloned.last = index === arr.length - 1\n    if (hasPreOrPost(cloned, values)) cloned.value = generatePreAndPost(cloned, values)\n    return cloned\n  }\n\n  var output = template.map(cloneAndObjectify).filter(function (item) { return item != null })\n\n  var remainingSpace = width\n  var variableCount = output.length\n\n  function consumeSpace (length) {\n    if (length > remainingSpace) length = remainingSpace\n    remainingSpace -= length\n  }\n\n  function finishSizing (item, length) {\n    if (item.finished) throw new error.Internal('Tried to finish template item that was already finished')\n    if (length === Infinity) throw new error.Internal('Length of template item cannot be infinity')\n    if (length != null) item.length = length\n    item.minLength = null\n    item.maxLength = null\n    --variableCount\n    item.finished = true\n    if (item.length == null) item.length = item.getBaseLength()\n    if (item.length == null) throw new error.Internal('Finished template items must have a length')\n    consumeSpace(item.getLength())\n  }\n\n  output.forEach(function (item) {\n    if (!item.kerning) return\n    var prevPadRight = item.first ? 0 : output[item.index - 1].padRight\n    if (!item.first && prevPadRight < item.kerning) item.padLeft = item.kerning - prevPadRight\n    if (!item.last) item.padRight = item.kerning\n  })\n\n  // Finish any that have a fixed (literal or intuited) length\n  output.forEach(function (item) {\n    if (item.getBaseLength() == null) return\n    finishSizing(item)\n  })\n\n  var resized = 0\n  var resizing\n  var hunkSize\n  do {\n    resizing = false\n    hunkSize = Math.round(remainingSpace / variableCount)\n    output.forEach(function (item) {\n      if (item.finished) return\n      if (!item.maxLength) return\n      if (item.getMaxLength() < hunkSize) {\n        finishSizing(item, item.maxLength)\n        resizing = true\n      }\n    })\n  } while (resizing && resized++ < output.length)\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining maxLength')\n\n  resized = 0\n  do {\n    resizing = false\n    hunkSize = Math.round(remainingSpace / variableCount)\n    output.forEach(function (item) {\n      if (item.finished) return\n      if (!item.minLength) return\n      if (item.getMinLength() >= hunkSize) {\n        finishSizing(item, item.minLength)\n        resizing = true\n      }\n    })\n  } while (resizing && resized++ < output.length)\n  if (resizing) throw new error.Internal('Resize loop iterated too many times while determining minLength')\n\n  hunkSize = Math.round(remainingSpace / variableCount)\n  output.forEach(function (item) {\n    if (item.finished) return\n    finishSizing(item, hunkSize)\n  })\n\n  return output\n}\n\nfunction renderFunction (item, values, length) {\n  validate('OON', arguments)\n  if (item.type) {\n    return item.value(values, values[item.type + 'Theme'] || {}, length)\n  } else {\n    return item.value(values, {}, length)\n  }\n}\n\nfunction renderValue (item, values) {\n  var length = item.getBaseLength()\n  var value = typeof item.value === 'function' ? renderFunction(item, values, length) : item.value\n  if (value == null || value === '') return ''\n  var alignWith = align[item.align] || align.left\n  var leftPadding = item.padLeft ? align.left('', item.padLeft) : ''\n  var rightPadding = item.padRight ? align.right('', item.padRight) : ''\n  var truncated = wideTruncate(String(value), length)\n  var aligned = alignWith(truncated, length)\n  return leftPadding + aligned + rightPadding\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}